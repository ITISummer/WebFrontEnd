<!DOCTYPE html>
<html>

<head>
	<meta charset="UTF-8">
	<title>01_canvas动画</title>
	<style type="text/css">
		* {
			margin: 0;
			padding: 0;
		}

		body {
			background: pink;
		}

		canvas {
			position: absolute;
			left: 0;
			right: 0;
			top: 0;
			bottom: 0;
			/* 相对于 body 居中显示 */
			margin: auto;
			background: white;
		}
	</style>
</head>

<body>
	<canvas width="400px" height="400px"></canvas>
</body>
<script type="text/javascript">
	window.onload = function () {
		var oc = document.querySelector("canvas");
		// alert(oc) //HTMLCanvasElement
		//The getContext() method returns an object that provides methods and properties for drawing on the canvas. 
		if (oc.getContext) {
			var ctx = oc.getContext("2d");
			var flag = 0;
			setInterval(function () {
				//Clears the specified pixels within a given rectangle
				ctx.clearRect(0, 0, oc.width, oc.height); //每次画之前清楚画布（可以达到动画效果）
				//动画
				flag++;

				//绘制
				//Saves the state of the current context
				ctx.save(); //必写
				//Begins a path, or resets the current path
				ctx.beginPath(); //必写
				//Draws text on the canvas (no fill)
				ctx.strokeRect(flag, flag, 100, 100); //画一个 起始坐标 (flag,flag) 宽高为 100px 的矩形
				//Returns previously saved path state and attributes
				ctx.restore(); //必写
			}, 1000 / 60);
		}
	}
</script>

</html>